{"version":3,"file":"utils.js","names":[],"sources":["../src/live/utils.ts"],"sourcesContent":["import {validateApiPerspective, type ClientPerspective} from '@sanity/client'\n\n/** @internal */\nexport function sanitizePerspective(\n  _perspective: unknown,\n  fallback: 'drafts' | 'published',\n): Exclude<ClientPerspective, 'raw'> {\n  const perspective =\n    typeof _perspective === 'string' && _perspective.includes(',')\n      ? _perspective.split(',')\n      : _perspective\n  try {\n    validateApiPerspective(perspective)\n    return perspective === 'raw' ? fallback : perspective\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(`Invalid perspective:`, _perspective, perspective, err)\n    return fallback\n  }\n}\n"],"mappings":";AAGA,SAAgB,oBACd,cACA,UACmC;CACnC,MAAM,cACJ,OAAO,iBAAiB,YAAY,aAAa,SAAS,IAAI,GAC1D,aAAa,MAAM,IAAI,GACvB;AACN,KAAI;AACF,yBAAuB,YAAY;AACnC,SAAO,gBAAgB,QAAQ,WAAW;UACnC,KAAK;AAEZ,UAAQ,KAAK,wBAAwB,cAAc,aAAa,IAAI;AACpE,SAAO"}