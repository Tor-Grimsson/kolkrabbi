{"version":3,"file":"RefreshOnMount.js","names":[],"sources":["../src/live/client-components/live/RefreshOnMount.tsx"],"sourcesContent":["/**\n * Handles refreshing the page when the page is mounted,\n * in case the content changes at a high enough frequency that by\n * the time the page started streaming, and the <SanityLive> component sets\n * up the EventSource connection, content might have changed.\n */\n\nimport {useRouter} from 'next/navigation'\nimport {useEffect, useReducer} from 'react'\n\nexport default function RefreshOnMount(): null {\n  const router = useRouter()\n  const [mounted, mount] = useReducer(() => true, false)\n\n  useEffect(() => {\n    if (!mounted) {\n      mount()\n      router.refresh()\n    }\n  }, [mounted, router])\n\n  return null\n}\nRefreshOnMount.displayName = 'RefreshOnMount'\n"],"mappings":";;AAUA,SAAwB,iBAAuB;CAC7C,MAAM,SAAS,WAAW;CAC1B,MAAM,CAAC,SAAS,SAAS,iBAAiB,MAAM,MAAM;AAEtD,iBAAgB;AACd,MAAI,CAAC,SAAS;AACZ,UAAO;AACP,UAAO,SAAS;;IAEjB,CAAC,SAAS,OAAO,CAAC;AAErB,QAAO;;AAET,eAAe,cAAc"}