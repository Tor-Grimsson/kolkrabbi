{"version":3,"file":"index.js","names":["autoBasePath: string | undefined","autoTrailingSlash: boolean | undefined"],"sources":["../../src/visual-editing/VisualEditing.tsx"],"sourcesContent":["import type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\nimport VisualEditingComponent from 'next-sanity/visual-editing/client-component'\n\n/**\n * @public\n */\nexport function VisualEditing(props: VisualEditingProps): React.ReactElement {\n  let autoBasePath: string | undefined\n  if (typeof props.basePath !== 'string') {\n    try {\n      autoBasePath = process.env['__NEXT_ROUTER_BASEPATH']\n      if (autoBasePath) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next basePath as ${JSON.stringify(autoBasePath)} by reading \"process.env.__NEXT_ROUTER_BASEPATH\". If this is incorrect then you can set it manually with the basePath prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting basePath', err)\n    }\n  }\n  let autoTrailingSlash: boolean | undefined\n  if (typeof props.trailingSlash !== 'boolean') {\n    try {\n      autoTrailingSlash = Boolean(process.env['__NEXT_TRAILING_SLASH'])\n      if (autoTrailingSlash) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next trailingSlash as ${JSON.stringify(autoTrailingSlash)} by reading \"process.env.__NEXT_TRAILING_SLASH\". If this is incorrect then you can set it manually with the trailingSlash prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting trailingSlash', err)\n    }\n  }\n  return (\n    <VisualEditingComponent\n      {...props}\n      basePath={props.basePath ?? autoBasePath}\n      trailingSlash={props.trailingSlash ?? autoTrailingSlash}\n    />\n  )\n}\n\nexport type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\n"],"mappings":";;AAMA,SAAgB,cAAc,OAA+C;CAC3E,IAAIA;AACJ,KAAI,OAAO,MAAM,aAAa,SAC5B,KAAI;AACF,iBAAe,QAAQ,IAAI;AAC3B,MAAI,aAEF,SAAQ,IACN,6BAA6B,KAAK,UAAU,aAAa,CAAC,gKAC3D;UAEI,KAAK;AACZ,UAAQ,MAAM,6BAA6B,IAAI;;CAGnD,IAAIC;AACJ,KAAI,OAAO,MAAM,kBAAkB,UACjC,KAAI;AACF,sBAAoB,QAAQ,QAAQ,IAAI,yBAAyB;AACjE,MAAI,kBAEF,SAAQ,IACN,kCAAkC,KAAK,UAAU,kBAAkB,CAAC,oKACrE;UAEI,KAAK;AACZ,UAAQ,MAAM,kCAAkC,IAAI;;AAGxD,QACE,oBAAC,wBAAA;EACC,GAAI;EACJ,UAAU,MAAM,YAAY;EAC5B,eAAe,MAAM,iBAAiB;GACtC"}